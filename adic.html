<!DOCTYPE html>
<html>
<head>
<title>p-adic numbers</title>
<script>
Number.prototype.forEach = function (a) {var i = 0; while (i < this) {a(i); i++}}

var my = {}

onload = function () {
  my.p = parseInt(location.hash.slice(1)) || 7
  document.querySelector('title').textContent = my.p.toString() + '-adic numbers'
  my.f = function (i) {return i * 2 * Math.PI / (my.p - 1)}
  my.s = document.createElementNS('http://www.w3.org/2000/svg', 'svg')
  my.s.setAttribute('viewBox', '-1.5 -1.5 3 3')
  my.c = document.createElementNS('http://www.w3.org/2000/svg', 'circle')
  my.c.cx.baseVal.value = 0
  my.c.cy.baseVal.value = 0
  my.c.r .baseVal.value = 1/my.p
  my.c.setAttribute('stroke-width', 1/128)
  my.c.setAttribute('stroke', 'black')
  my.c.setAttribute('fill', 'none')
  my.s.appendChild(my.c.cloneNode())

  ;(my.p - 1).forEach(function (i) {
    var c = my.c.cloneNode()

    c.cx.baseVal.value = Math.cos(my.f(i))
    c.cy.baseVal.value = Math.sin(my.f(i))
    my.s.appendChild(c)
  })

  document.body.appendChild(my.s)
}
onhashchange = function () {
  document.body.removeChild(my.s)
  onload()
}
</script>
</head>
<body></body>
</html>
