<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width">
<meta charset="UTF-8">
<title>Quantities</title>
<style>
div.h {
  font-size: 1rem;
  position: absolute;
  width: 100%;
  height: 1px;
  background-color: silver;
}
div.v {
  font-size: 1rem;
  position: fixed;
  width: 1px;
  height: 100%;
  background-color: silver;
}
div.p {
  font-size: 1.5rem;
  position: absolute;
  color: #eee;
  background-color: #444;
  padding: 0.25rem;
  border: 0;
}
</style>
<script src="js.js"></script>
<script>
Complex.prototype.toString = function () {
  var _ = this, ord, arg
  ord = _.ord.toFixed(Complex.precision).split('.')
  arg = _.arg.toFixed(3).split('.')
  ord[1] = ord[1] || '0'
  arg[1] = arg[1] || '0'
  return ord[0] + '.' + ord[1] + '.' + arg[1] + 'X'
}

var delta
, _ = function (a, b) { return new Complex(Math.log(a), b) }
, c = _(299792458)      //         m   s^{-1}
, G = _(6.67408e-11)    // kg^{-1} m^3 s^{-2}
, h = _(6.626070040e-34) // kg      m^2 s^{-1}
, Boltzmann = _(1.38064852e-23) // J K^{-1}
, mu0 = _(4 * Math.PI * 1e-7)  // N A^{-2}
/*
   2014 CODATA recommended values
   http://physics.nist.gov/constants
 */
, tau = _(2 * Math.PI, 0.25)
, e = new Complex(1)
, one = _(1)
, two = _(2)
, half = two.inv()
, k = _(1000)
, Ki = _(1024)
, b = two.log()
, B = _(8).mul(b)
, KiB = Ki.mul(B)
, MiB = Ki.mul(KiB)
, GiB = Ki.mul(MiB)
, TiB = Ki.mul(GiB)

, kg = c.inv()        .mul(G)      .mul(h.inv()).mul(tau).log().mul(half).exp()
, m  = c.mul(c).mul(c).mul(G.inv()).mul(h.inv()).mul(tau).log().mul(half).exp()
, s  = m.mul(c)
kg.arg = m.arg = s.arg = 0.125
var Hz = s.inv(), kHz = k.mul(Hz), MHz = k.mul(kHz), GHz = k.mul(MHz)
, N  = kg.mul(m).mul(Hz).mul(Hz)
, J  = N.mul(m)
, A  = mu0.mul(N).log().mul(half).exp()
A.arg = 0
var K  = Boltzmann.mul(J)
, C  = A.mul(s)

, W  = J.mul(Hz)
, V  = W.mul(A.inv())
, Ω  = V.mul(A.inv())
, eV = _(1.60217657e-19).mul(J)
, keV = k.mul(eV), MeV = k.mul(keV), GeV = k.mul(MeV)
, min = _(60).mul(s), hour = _(60).mul(min), day = _(24).mul(hour)
, week = _(7).mul(day), year = _(365.25).mul(day)
, kyear = k.mul(year), Myear = k.mul(kyear), Gyear = k.mul(Myear)
, _0dc = _(273.15).mul(K), _100dc = _(273.15 + 100).mul(K)
, ec = _(1.60217657e-19).mul(C)
, mm = _(1e-3).mul(m), μm = _(1e-3).mul(mm), nm = _(1e-3).mul(μm)
, pm = _(1e-3).mul(nm), fm = _(1e-3).mul(pm)
, ms = _(1e-3).mul(s), μs = _(1e-3).mul(ms), ns = _(1e-3).mul(μs)
, ps = _(1e-3).mul(ns), fs = _(1e-3).mul(ps)
, g = _(1e-3).mul(kg)
, mg = _(1e-3).mul(g)
, km = k.mul(m)
, mps = m.mul(Hz)
, kmph = km.mul(hour.inv())
, me = _(9.10938291e-31).mul(kg)
, mp = _(1.672621777e-27).mul(kg)
, Mg = k.mul(kg)

var lineh = function (ord, textContent, color) {
  var _ = document.createElement('div')
  ord -= delta
  ord *= 100; ord = Math.round(ord)
  _.textContent = textContent
  _.setAttribute('style', 'top: ' + ord.toString() + 'px;')
  _.setAttribute('class', 'h')
  return _
}
, linev = function (arg, textContent, color) {
  var _ = document.createElement('div')
  arg += 0.5; arg %= 1; arg *= 100
  _.textContent = textContent
  _.setAttribute('style', 'left: ' + arg.toString() + '%;')
  _.setAttribute('class', 'v')
  return _
}
, point = function (z, textContent, color) {
  var _ = document.createElement('div')
    , ord = z.ord, arg = z.arg
  ord -= delta
  ord *= 100; ord = Math.round(ord)
  arg += 0.5; arg %= 1; arg *= 100
  _.textContent = textContent
  _.setAttribute('style', 'top: ' + ord.toString() + 'px;' + 'left: ' + arg.toString() + '%;')
  _.setAttribute('class', 'p')
  return _
}
, vals = [
  [kg, 'kg'], [m, 'm' ], [s, 's' ]
, [mm, 'mm'], [ms, 'ms'], [g, 'g'], [mg, 'mg']
, [μm, 'μm'], [nm, 'nm'], [pm, 'pm'], [fm, 'fm']
, [μs, 'μs'], [ns, 'ns'], [ps, 'ps'], [fs, 'fs']
, [N, 'N'], [J, 'J']
, [A, 'A' ], [K, 'K' ], [C, 'C']
, [Hz, 'Hz'], [kHz, 'kHz'], [MHz, 'MHz'], [GHz, 'GHz']
, [W, 'W'], [V, 'V'], [Ω, 'Ω']
, [eV, 'eV'], [keV, 'keV'], [MeV, 'MeV'], [GeV, 'GeV']
, [min, 'min'], [hour, 'hour'], [day, 'day'], [week, 'week'], [year, 'year']
, [kyear, 'Thousand years'], [Myear, 'Million years'], [Gyear, 'Billion years']
, [b, 'b' ], [B, 'B' ]
, [KiB, 'KiB'], [MiB, 'MiB'], [GiB, 'GiB'], [TiB, 'TiB']
, [_0dc, '0 °C'], [_100dc, '100 °C']
, [ec, 'e']
, [km, 'km']
, [mps, 'm/s'], [kmph, 'km/hour']
, [_(5.972e24).mul(kg), 'mass Earth']
, [_(1.989e30).mul(kg), 'mass Sun']
, [_(6371).mul(km), 'radius Earth']
, [_(695800).mul(km), 'radius Sun' ]
, [_(149600000).mul(km), 'orbit Earth',  ]
, [_(384400).mul(km), 'orbit Moon']
, [_(39.445 * 149600000).mul(km), 'orbit Plute',  ]
, [_(13.772e9).mul(year), 'age Universe', ]
, [tau, ''], [one, ''], [e, '']
, [me, 'mass electron']
, [mp, 'mass proton']
, [Mg, 'Mg']
].sort(function (a, b) {
  return a[0].ord - b[0].ord
})

Complex.precision = 6
onload = function () {
  var label = function (item) {
    return lineh(item[0].ord, item[0].toString())
  }
  var append = document.body.appendChild.bind(document.body)
  delta = vals[0][0].ord - 1

  vals.forEach(function (item) {
    append(label(item))
    append(point(item[0], item[1]))
  })
  ;[0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875].forEach(function (arg) {
    append(linev(arg, arg.toString()))
  })
}
</script>
</head>
<body></body>
</html>
